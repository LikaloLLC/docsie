<section class="section-padding reviews-section">
  <div class="reviews-container">
    <!-- Reviews Header -->
    <div class="reviews-header">
      <div class="reviews-rating">
        <div class="rating-score">
          <span class="score">4.8</span>
          <div class="rating-stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
          </div>
        </div>
        <div class="rating-meta">
          <p class="rating-count">117 Reviews on</p>
          <img data-src="../assets/new_home/g2-logo.svg" alt="G2 Logo" class="lazy g2-logo" />
        </div>
      </div>
    </div>

    <!-- Reviews Carousel -->
    <div class="reviews-carousel">
      <div class="reviews-track">
        <!-- Review Card 1 -->
        <div class="review-card">
          <div class="review-header">
            <div class="reviewer-info">
              <div class="reviewer-avatar">
                <i class="fas fa-user-circle"></i>
              </div>
              <div class="reviewer-meta">
                <h4>Nora D.</h4>
                <p>Cyber Security Business Analyst</p>
                <p class="company-size">Enterprise (>1000 emp.)</p>
              </div>
            </div>
            <div class="review-rating">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
          <div class="review-content">
            <p>"As an IT professional, I highly appreciate the functionality of linking and categorizing documents. The ability to consolidate essential information and processes in a single location accessible by both new and existing team members is invaluable."</p>
          </div>
        </div>

        <!-- Review Card 2 -->
        <div class="review-card">
          <div class="review-header">
            <div class="reviewer-info">
              <div class="reviewer-avatar">
                <i class="fas fa-user-circle"></i>
              </div>
              <div class="reviewer-meta">
                <h4>Shannon R.</h4>
                <p>Senior Business Analyst</p>
                <p class="company-size">Small Business (50 or fewer emp.)</p>
              </div>
            </div>
            <div class="review-rating">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
          </div>
          <div class="review-content">
            <p>"It's fast. The app works well and is conducive to collaboration between the teams. They seem to be adding new features fairly quickly, which is good. The few times that we had problems, their support solved them for us pretty quick."</p>
          </div>
        </div>

        <!-- Add more review cards as needed -->
      </div>

      <!-- Navigation Buttons -->
      <button class="nav-button prev">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="nav-button next">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>

    <!-- Review CTA -->
    <div class="reviews-cta">
      <a href="https://www.g2.com/products/docsie/reviews" target="_blank" class="view-reviews-button">
        View all reviews on G2
        <i class="fas fa-external-link-alt"></i>
      </a>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const track = document.querySelector('.reviews-track');
    const cards = document.querySelectorAll('.review-card');
    const prevButton = document.querySelector('.nav-button.prev');
    const nextButton = document.querySelector('.nav-button.next');
    
    let currentIndex = 0;

    // Hide prev button initially
    prevButton.style.display = 'none';
    
    function updateTrack() {
      const container = document.querySelector('.reviews-carousel');
      const containerWidth = container.clientWidth - 120; // Account for padding
      const visibleCards = getVisibleCards();
      const cardWidth = containerWidth / visibleCards;
      const gap = 30;
      
      // Set width for all cards
      cards.forEach(card => {
        card.style.minWidth = `${cardWidth - gap}px`;
      });
      
      const offset = currentIndex * (cardWidth);
      track.style.transform = `translateX(-${offset}px)`;
      
      // Update button visibility
      prevButton.style.display = currentIndex === 0 ? 'none' : 'flex';
      nextButton.style.display = currentIndex >= cards.length - visibleCards ? 'none' : 'flex';
    }
    
    function getVisibleCards() {
      const width = window.innerWidth;
      if (width <= 768) return 1;
      if (width <= 968) return 2;
      return 3;
    }
    
    prevButton.addEventListener('click', () => {
      if (currentIndex > 0) {
        currentIndex--;
        updateTrack();
      }
    });
    
    nextButton.addEventListener('click', () => {
      if (currentIndex < cards.length - getVisibleCards()) {
        currentIndex++;
        updateTrack();
      }
    });
    
    // Initial setup
    updateTrack();
    
    // Update on window resize with debounce
    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        currentIndex = 0; // Reset position
        updateTrack();
      }, 250);
    });
  });
</script> 