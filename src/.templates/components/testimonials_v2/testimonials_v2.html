{% if section %}
<!-- Modern Testimonials Section v2 - Built with Tailwind CSS -->
<section class="testimonials-v2 bg-background text-foreground py-12 sm:py-24 md:py-32 px-0">
  <div class="mx-auto flex max-w-6xl flex-col items-center gap-4 text-center sm:gap-16">
    
    <!-- Section Header -->
    <div class="flex flex-col items-center gap-4 px-4 sm:gap-8">
      {% if section.badge %}
      <div class="inline-flex items-center rounded-lg bg-primary/10 px-3 py-1 text-sm font-medium text-primary">
        <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
        </svg>
        {{ section.badge }}
      </div>
      {% endif %}
      
      <h2 class="max-w-[720px] text-3xl font-semibold leading-tight sm:text-5xl sm:leading-tight">
        {{ section.title }}
      </h2>
      
      {% if section.description %}
      <p class="text-md max-w-[600px] font-medium text-muted-foreground sm:text-xl">
        {{ section.description }}
      </p>
      {% endif %}
    </div>

    <!-- Testimonials Marquee -->
    <div class="relative flex w-full flex-col items-center justify-center overflow-hidden">
      <div class="group flex overflow-hidden p-2 testimonial-marquee">
        <div class="flex shrink-0 justify-around testimonial-track group-hover:paused">
          {% for testimonial in section.testimonials %}
          <!-- Testimonial Card -->
          <div class="testimonial-card flex flex-col rounded-lg border-t bg-gradient-to-b from-muted/50 to-muted/10 p-4 text-start sm:p-6 hover:from-muted/60 hover:to-muted/20 max-w-[320px] sm:max-w-[320px] transition-colors duration-300 mx-2">
            <div class="flex items-center gap-3">
              {% if testimonial.avatar %}
              <div class="h-12 w-12 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-primary font-semibold">
                <img src="{{ testimonial.avatar }}" alt="{{ testimonial.name }}" class="h-12 w-12 rounded-full object-cover">
              </div>
              {% else %}
              <div class="h-12 w-12 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-primary font-semibold">
                {{ testimonial.name[0] }}
              </div>
              {% endif %}
              <div class="flex flex-col items-start">
                <h3 class="text-md font-semibold leading-none">
                  {{ testimonial.name }}
                </h3>
                {% if testimonial.role %}
                <p class="text-sm text-muted-foreground">
                  {{ testimonial.role }}
                </p>
                {% endif %}
                {% if testimonial.company %}
                <p class="text-sm text-muted-foreground">
                  {{ testimonial.company }}
                </p>
                {% endif %}
              </div>
            </div>
            
            <!-- Rating Stars -->
            {% if testimonial.rating %}
            <div class="flex items-center gap-1 mt-3">
              {% for i in range(testimonial.rating) %}
              <svg class="h-4 w-4 text-yellow-400 fill-current" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              {% endfor %}
            </div>
            {% endif %}
            
            <p class="sm:text-md mt-4 text-sm text-muted-foreground">
              "{{ testimonial.text }}"
            </p>
          </div>
          {% endfor %}
          
          <!-- Duplicate testimonials for seamless loop -->
          {% for testimonial in section.testimonials %}
          <div class="testimonial-card flex flex-col rounded-lg border-t bg-gradient-to-b from-muted/50 to-muted/10 p-4 text-start sm:p-6 hover:from-muted/60 hover:to-muted/20 max-w-[320px] sm:max-w-[320px] transition-colors duration-300 mx-2">
            <div class="flex items-center gap-3">
              {% if testimonial.avatar %}
              <div class="h-12 w-12 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-primary font-semibold">
                <img src="{{ testimonial.avatar }}" alt="{{ testimonial.name }}" class="h-12 w-12 rounded-full object-cover">
              </div>
              {% else %}
              <div class="h-12 w-12 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center text-primary font-semibold">
                {{ testimonial.name[0] }}
              </div>
              {% endif %}
              <div class="flex flex-col items-start">
                <h3 class="text-md font-semibold leading-none">
                  {{ testimonial.name }}
                </h3>
                {% if testimonial.role %}
                <p class="text-sm text-muted-foreground">
                  {{ testimonial.role }}
                </p>
                {% endif %}
                {% if testimonial.company %}
                <p class="text-sm text-muted-foreground">
                  {{ testimonial.company }}
                </p>
                {% endif %}
              </div>
            </div>
            
            {% if testimonial.rating %}
            <div class="flex items-center gap-1 mt-3">
              {% for i in range(testimonial.rating) %}
              <svg class="h-4 w-4 text-yellow-400 fill-current" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              {% endfor %}
            </div>
            {% endif %}
            
            <p class="sm:text-md mt-4 text-sm text-muted-foreground">
              "{{ testimonial.text }}"
            </p>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- Gradient overlays -->
      <div class="pointer-events-none absolute inset-y-0 left-0 hidden w-1/3 bg-gradient-to-r from-background sm:block"></div>
      <div class="pointer-events-none absolute inset-y-0 right-0 hidden w-1/3 bg-gradient-to-l from-background sm:block"></div>
    </div>
  </div>
</section>
{% endif %} 