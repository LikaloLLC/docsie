<script type="text/template" id="l-p">
  <div class="container-lg">
    <ul class="metaNav">
      <li class="select language globalPopupActive" onclick="popUp(event)">
        <a class="rootLink item-language"><svg width="13" height="13">
            <path
              d="M8.079,9.837L6.116,12.3A0.654,0.654,0,0,1,5,11.841V9.852C2.488,9.351,1,7.6,1,5.5,1,3.015,3.087,1,6.5,1S12,3.015,12,5.5A4.5,4.5,0,0,1,8.079,9.837Z">
            </path>
          </svg>
          <span class="active-lp">English</span></a>

        <div class="popup languagePicker">
          <ul class="optionList">
            <li>
              <a data-language="en" data-set-locale="en" href="/" class="">
                  <span>English</span>
                  <svg class="icon icon--check" viewBox="0 0 20 20" width="22" height="22">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-checkmark"></use>
                  </svg>
              </a>
            </li>
            <!-- <li>
              <a data-language="ja" data-set-locale="ja" href="/jp" class="">
                  <span>日本語</span>
                  <svg class="icon icon--check" viewBox="0 0 20 20" width="22" height="22">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-checkmark"></use>
                  </svg>
              </a>
            </li> -->
            <!-- <li>
              <a data-language="ko" data-set-locale="ko" href="/ko" class="">
                  <span>한국어</span>
                  <svg class="icon icon--check" viewBox="0 0 20 20" width="22" height="22">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-checkmark"></use>
                  </svg>
              </a>
            </li> -->
            <li>
              <a data-language="es" data-set-locale="es" href="/es" class="">
                  <span>Español</span>
                  <svg class="icon icon--check" viewBox="0 0 20 20" width="22" height="22">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-checkmark"></use>
                  </svg>
              </a>
            </li>
            <li>
              <a data-language="fr" data-set-locale="fr" href="/fr" class="">
                  <span>Français</span>
                  <svg class="icon icon--check" viewBox="0 0 20 20" width="22" height="22">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-checkmark"></use>
                  </svg>
              </a>
            </li>
            <li>
              <a data-language="pt" data-set-locale="pt" href="/pt" class="">
                  <span>Português</span>
                  <svg class="icon icon--check" viewBox="0 0 20 20" width="22" height="22">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-checkmark"></use>
                  </svg>
              </a>
            </li>
            <!-- <li>
              <a data-language="de" data-set-locale="de" href="/de" class="">
                  <span>Deutsch</span>
                  <svg class="icon icon--check" viewBox="0 0 20 20" width="22" height="22">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-checkmark"></use>
                  </svg>
              </a>
            </li> -->
          </ul>
        </div>
      </li>
    </ul>
  </div>
</script>
<script type="text/javascript">
  var labels = {
    "en": {
      label: 'English',
      path: "/"
    },
    // "ja": {
    //   label: '日本語',
    //   path: "/jp"
    // },

    // "ko": {
    //   label: '한국어',
    //   path: '/ko'
    // },
    "es": {
      label: 'Español',
      path: '/es'
    },
    "fr": {
      label: 'Français',
      path: '/fr'
    },
    "pt": {
      label: 'Português',
      path: "/pt"
    },
    // "de": {
    //   label: 'Deutsch',
    //   path: '/de'
    // }
  }
  var popupEl, globalPopupActive;
  function popUp(e) {
    e.stopPropagation();
    popupEl = document.getElementsByClassName("languagePicker")[0];
    globalPopupActive = document.getElementsByClassName("globalPopupActive")[0];
    // show popup on click
    if (popupEl) {
      popupEl.style.display = "block";
    }
    // register a function to hide the popup when there is a click outside the popup
    window.onclick = (e) => {
      // check that your clicked
      // element has no id=info
      // and is not child of info
      if (e.target != globalPopupActive && !globalPopupActive.contains(e.target)) {
        popupEl.style.display = "none";
      }
    };
  }
  function InjectFRM(el) {
    var tpl = document.getElementById("l-p");
    if (tpl) {
      var ctr = document.createElement("article");
      ctr.classList.add("globalFooterNav");
      ctr.innerHTML = tpl.text;
      el.appendChild(ctr);
    }
  }
  $await(".docsie-lang-picker-container", InjectFRM);
  let baseUrl = window.location.href;
  let langObj = labels["en"];
  // if (baseUrl.includes("/jp")) {
  //   langObj = labels["ja"];
  //   document.querySelectorAll('[data-language="ja"]')[0].setAttribute("class", "selected");
  // } else 
  if (baseUrl.includes("/pt")) {
    langObj = labels["pt"];
    document.querySelectorAll('[data-language="pt"]')[0].setAttribute("class", "selected");
  }
  // else if (baseUrl.includes("/ko")) {
  //   langObj = labels["ko"];
  //   document.querySelectorAll('[data-language="ko"]')[0].setAttribute("class", "selected");
  // } 
  else if (baseUrl.includes("/es")) {
    langObj = labels["es"];
    document.querySelectorAll('[data-language="es"]')[0].setAttribute("class", "selected");
  } else if (baseUrl.includes("/fr")) {
    langObj = labels["fr"];
    document.querySelectorAll('[data-language="fr"]')[0].setAttribute("class", "selected");
  }
  // else if (baseUrl.includes("/de")) {
  //   langObj = labels["de"];
  //   document.querySelectorAll('[data-language="de"]')[0].setAttribute("class", "selected");
  // } 
  else {
    document.querySelectorAll('[data-language="en"]')[0].setAttribute("class", "selected");
  }
  // set active label
  document.getElementsByClassName("active-lp")[0].innerHTML = langObj.label;
</script>